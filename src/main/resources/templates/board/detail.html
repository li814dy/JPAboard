<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>JPAboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
</head>
<body>
    <header class="sticky-top bg-white" th:insert="common/header.html" id="header"></header>

    <div class="mx-3 my-5">
        <!-- 수정/삭제 -->
        <form class="mb-3">
            <div class="row">
                <div class="col">
                    <a class="btn btn-primary" th:href="@{'/post/edit/' + ${boardDto.id}}">수정</a>
                </div>
                <div class="col text-end">
                    <form id="delete-form" th:action="@{'/post/' + ${boardDto.id}}" method="post">
                        <input type="hidden" name="_method" value="delete"/>
                        <button class="btn btn-secondary" id="delete">삭제</button>
                    </form>
                </div>
            </div>
        </form>

        <div class="row">
            <div class="col">
                <h2 th:text="${boardDto.title}"></h2>
            </div>
            <div class="col text-end">
                <p th:inline="text">작성일 : [[${#temporals.format(boardDto.createdDate, 'yyyy-MM-dd HH:mm')}]]</p>
            </div>
        </div>

        <p class="mb-3 fs-5" th:text="${boardDto.content}"></p>

        <hr class="mx-5 mt-5">

        <div class="mx-5 my-3" th:insert="comment/write.html" id="write_comment"></div>
        <br/>
        <div class="mx-5 my-3" th:if="${commentDto ne null}" th:insert="comment/list.html" id="comments"></div>

        <div class="bg-light pb-1" th:insert="common/footer.html" id="footer"></div>
    </div>

    <!-- 변수 셋팅 -->
    <script th:inline="javascript">
        /*<![CDATA[*/
        var boardDto = /*[[${boardDTO}]]*/ "";
        /*]]>*/
    </script>

    <script th:inline="javascript">
        /*<![CDATA[*/
        var commentDTO = /*[[${commentDTO}]]*/ "";
        /*]]>*/
    </script>
</body>
</html>